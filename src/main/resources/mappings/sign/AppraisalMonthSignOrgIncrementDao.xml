<?xml version="1.0" encoding="UTF-8" ?>  
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"      
 "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="com.boco.modules.fdoc.dao.sign.AppraisalMonthSignOrgIncrementDao">
	<sql id="Base_Column_List" >
		id, org_id, sign_increment, hyper_increment, diabetes_increment, phychosis_increment, old_increment, 
		maternal_increment, children_increment, family_increment, month, create_time
	</sql>
	
	<!-- 获取机构签约管理月度数据集合 -->
	<select id="getMonthSignOrgDataList" parameterType="string" resultType="com.boco.modules.fdoc.vo.AppraisalMonthSignOrgIncrementVo">
		SELECT
			a.*, b.org_name,
			c.result_score, c.sign_hyper_score, c.sign_diabetes_score,
			c.sign_phychosis_score, c.sign_old_score, c.sign_maternal_score,
			c.sign_children_score, c.sign_manage_score, c.public_health_hyper_score,
			c.public_health_diabetes_score, c.public_health_phychosis_score, c.public_health_old_score,
			c.public_health_maternal_score, c.public_health_children_score, c.public_health_score,
			c.health_manage_edu_score, c.health_manage_daily_activity_score, c.health_manage_assessment_score,
			c.health_manage_document_score, c.health_manage_score, c.customer_score
		FROM
			t_appraisal_month_sign_org_increment a
		LEFT JOIN t_hospital b ON a.org_id = b.id
		LEFT JOIN t_appraisal_month_org_score c ON a.org_id = c.org_id AND a.`month` = c.`month`
		WHERE
			a.`month` = #{0}
	</select>
</mapper>